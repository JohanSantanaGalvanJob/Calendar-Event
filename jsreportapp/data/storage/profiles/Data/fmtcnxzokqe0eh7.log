{"type":"operationStart","subtype":"profile","data":{"_id":"lcFCEgesZgOOT3N7","timestamp":"2023-01-22T20:49:51.723Z","state":"queued","mode":"standard","creationDate":"2023-01-22T20:49:51.725Z","modificationDate":"2023-01-22T20:49:51.725Z","shortid":"aZ__sN5","$entitySet":"profiles"},"doDiffs":false,"timestamp":1674420591724,"id":"42tasxi8jxpn31l","previousOperationId":null,"operationId":"dm5tpn1hju8f8id"}
{"type":"log","level":"info","message":"Render request 19 queued for execution and waiting for available worker","previousOperationId":"dm5tpn1hju8f8id","timestamp":1674420591724,"id":"4436lvjk6wz862o"}
{"type":"operationStart","subtype":"render","name":"Data","previousOperationId":"dm5tpn1hju8f8id","timestamp":1674420591739,"id":"mtcraxddsojjqp4","previousEventId":"42tasxi8jxpn31l","operationId":"2f06hokte1bq1jk"}
{"type":"log","timestamp":1674420591739,"level":"info","message":"Starting rendering request 19","meta":{"rootId":"fmtcnxzokqe0eh7","id":"fmtcnxzokqe0eh7"},"id":"vc60yggimmbsk2l","previousOperationId":"2f06hokte1bq1jk"}
{"type":"log","timestamp":1674420591740,"level":"info","message":"Rendering template { name: Data, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"fmtcnxzokqe0eh7","id":"fmtcnxzokqe0eh7"},"id":"o628m0ws7jrqlvq","previousOperationId":"2f06hokte1bq1jk"}
{"type":"log","timestamp":1674420591740,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"fmtcnxzokqe0eh7","id":"fmtcnxzokqe0eh7"},"id":"nja2f54qhqq8wp8","previousOperationId":"2f06hokte1bq1jk"}
{"type":"log","timestamp":1674420591744,"level":"debug","message":"Executing script testing (beforeRender)","meta":{"rootId":"fmtcnxzokqe0eh7","id":"fmtcnxzokqe0eh7"},"id":"hbgg5921hkxuv7u","previousOperationId":"2f06hokte1bq1jk"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1674420591894,"id":"bdh344e9f0bkzzr","previousEventId":"mtcraxddsojjqp4","operationId":"gd5g7flg0y46qmy","previousOperationId":"2f06hokte1bq1jk"}
{"type":"operationStart","subtype":"script","name":"scripts testing","previousOperationId":"gd5g7flg0y46qmy","timestamp":1674420591894,"id":"uxnnhl4katc3jzd","previousEventId":"bdh344e9f0bkzzr","operationId":"xkrsl792myf00kw"}
{"type":"log","timestamp":1674420621931,"level":"debug","message":"(console:log) 408","meta":{"userLevel":true,"rootId":"fmtcnxzokqe0eh7","id":"fmtcnxzokqe0eh7"},"id":"ar839x0mxlwwqdp","previousOperationId":"xkrsl792myf00kw"}
{"type":"log","timestamp":1674420621932,"level":"warn","message":"Error when processing render request 19\n(because) error when evaluating custom script /testing\nUser code threw with non-Error: 408\nError: User code threw with non-Error: 408\n    at normalizeError (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\normalizeError.js:20:18)\n    at handleError (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:192:18)\n    at context.__handleError (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:34:38)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async run (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:122:12)\n    at async Scripts._runScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)\n    at async ListenerCollection.fire (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\listenerCollection.js:157:21)","meta":{"rootId":"fmtcnxzokqe0eh7","id":"fmtcnxzokqe0eh7"},"id":"1qlp1kokq5aa50f","previousOperationId":"xkrsl792myf00kw"}
{"type":"log","timestamp":1674420621932,"level":"warn","message":"Rendering request 19 finished with error in 30210 ms","meta":{"rootId":"fmtcnxzokqe0eh7","id":"fmtcnxzokqe0eh7"},"id":"tbqnzayyk42hpxw","previousOperationId":"xkrsl792myf00kw"}
{"type":"error","timestamp":1674420621943,"statusCode":400,"weak":true,"entity":{"shortid":"W0gvNctphZ","name":"testing","content":"// Use the \"beforeRender\" or \"afterRender\" hook\n// to manipulate and control the report generation\nvar request = require(\"request\");\n\n// async function beforeRender (done) {\n//    request({url: \"http://localhost:3000/events\",json: true},function (err,response,body){\n//        request.data = {posts: body};\n//        console.log(request.data);\n//        done();\n//    })\n\n// }\n\n// function  beforeRender(req, res, done){\n//     console.log('hello');\n//     request({\n//         url:\"http://localhost:3000/events\",\n//          method: \"GET\",\n//         json:true,\n//         headers: {'User-Agent':'Super Agent/0.0.1','content-type': 'application/json','Content-Length': 92},\n//       },function(err, response, body){\n      \n//         console.log(body);\n//         req.data = {posts:body};\n//        console.log(req.data);\n//         console.log(err)\n//         done();\n//     })    \n// }\n\nasync function beforeRender(req, res, done) {\n    request({\n        url:\"http://localhost:3000/events\",\n         method: \"GET\",\n        json:true,\n        headers: {'User-Agent':'Super Agent/0.0.1','content-type': 'application/json','Content-Length': 92},\n      },function(err, response, body){\n        if(err){\n            console.log(err)\n            done(err);\n        }\n        if(response.statusCode !== 200){\n            console.log(response.statusCode)\n            done(response.statusCode);\n        }\n        this.data = {posts:body};\n        done();\n    }.bind(this))    \n}"},"property":"content","logged":true,"previousOperationId":"xkrsl792myf00kw","id":"uswd5up65luf2hs","stack":"Error: User code threw with non-Error: 408\n    at normalizeError (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\normalizeError.js:20:18)\n    at handleError (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:192:18)\n    at context.__handleError (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:34:38)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async run (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:122:12)\n    at async Scripts._runScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)\n    at async ListenerCollection.fire (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\listenerCollection.js:157:21)","message":"Error when evaluating custom script /testing\nUser code threw with non-Error: 408"}
