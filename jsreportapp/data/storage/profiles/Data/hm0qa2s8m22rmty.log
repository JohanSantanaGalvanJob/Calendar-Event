{"type":"operationStart","subtype":"profile","data":{"_id":"74Bvp46RCopWHEYi","timestamp":"2023-01-22T00:07:52.823Z","state":"queued","mode":"standard","creationDate":"2023-01-22T00:07:52.829Z","modificationDate":"2023-01-22T00:07:52.829Z","shortid":"NAtIrH3","$entitySet":"profiles"},"doDiffs":false,"timestamp":1674346072826,"id":"ioug7qzy9lo5hfa","previousOperationId":null,"operationId":"d1fv9qouqx1e6a4"}
{"type":"log","level":"info","message":"Render request 1 queued for execution and waiting for available worker","previousOperationId":"d1fv9qouqx1e6a4","timestamp":1674346072827,"id":"6iyukiqwn3jf43j"}
{"type":"operationStart","subtype":"render","name":"Data","previousOperationId":"d1fv9qouqx1e6a4","timestamp":1674346072876,"id":"ma3wodgo559m5of","previousEventId":"ioug7qzy9lo5hfa","operationId":"wt8ujnjt7whnj8r"}
{"type":"log","timestamp":1674346072879,"level":"info","message":"Starting rendering request 1","meta":{"rootId":"hm0qa2s8m22rmty","id":"hm0qa2s8m22rmty"},"id":"m93feegtcys5wer","previousOperationId":"wt8ujnjt7whnj8r"}
{"type":"log","timestamp":1674346072881,"level":"info","message":"Rendering template { name: Data, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"hm0qa2s8m22rmty","id":"hm0qa2s8m22rmty"},"id":"qpymisymtps7dnq","previousOperationId":"wt8ujnjt7whnj8r"}
{"type":"log","timestamp":1674346072882,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"hm0qa2s8m22rmty","id":"hm0qa2s8m22rmty"},"id":"nydl98lxes71u0i","previousOperationId":"wt8ujnjt7whnj8r"}
{"type":"log","timestamp":1674346072887,"level":"debug","message":"Executing script testing (beforeRender)","meta":{"rootId":"hm0qa2s8m22rmty","id":"hm0qa2s8m22rmty"},"id":"jx5w2efmqf5cpkk","previousOperationId":"wt8ujnjt7whnj8r"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1674346073837,"id":"001b15icle0sgrp","previousEventId":"ma3wodgo559m5of","operationId":"12a9f0j1b9z1y5y","previousOperationId":"wt8ujnjt7whnj8r"}
{"type":"operationStart","subtype":"script","name":"scripts testing","previousOperationId":"12a9f0j1b9z1y5y","timestamp":1674346073837,"id":"873g7a11lgf1sz6","previousEventId":"001b15icle0sgrp","operationId":"2yev76htg14jla4"}
{"type":"log","timestamp":1674346074220,"level":"warn","message":"Error when processing render request 1\n(because) error when evaluating custom script /testing\njsreport.render is not a function\n\n(sandbox.js line 8:14)\n\n   6 |     const r = await axios.get('http://localhost:3000/events')    \n   7 |     req.data = { ...req.data, ...r.data}\n>  8 |     jsreport.render({\n     |              ^\n   9 |         template: {\n  10 |           name: 'sos'\n  11 |         },\n\n\nTypeError: jsreport.render is not a function\n    at Object.beforeRender (sandbox.js:8:14)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async executionFn (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:67:11)\n    at async run (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:122:12)\n    at async Scripts._runScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)\n    at async ListenerCollection.fire (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\listenerCollection.js:157:21)\n    at async beforeRender (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:25:5)","meta":{"rootId":"hm0qa2s8m22rmty","id":"hm0qa2s8m22rmty"},"id":"3eiue51bvsg2ssa","previousOperationId":"2yev76htg14jla4"}
{"type":"log","timestamp":1674346074220,"level":"warn","message":"Rendering request 1 finished with error in 1398 ms","meta":{"rootId":"hm0qa2s8m22rmty","id":"hm0qa2s8m22rmty"},"id":"79sn6easfo0kryc","previousOperationId":"2yev76htg14jla4"}
{"type":"error","timestamp":1674346074236,"statusCode":400,"weak":true,"lineNumber":8,"decoratedSuffix":"\n\n(sandbox.js line 8:14)\n\n   6 |     const r = await axios.get('http://localhost:3000/events')    \n   7 |     req.data = { ...req.data, ...r.data}\n>  8 |     jsreport.render({\n     |              ^\n   9 |         template: {\n  10 |           name: 'sos'\n  11 |         },\n\n","entity":{"shortid":"W0gvNctphZ","name":"testing","content":"// Use the \"beforeRender\" or \"afterRender\" hook\n// to manipulate and control the report generation\n const axios = require('axios')\n var jsreport = require('jsreport');\nasync function beforeRender (req, res) {\n    const r = await axios.get('http://localhost:3000/events')    \n    req.data = { ...req.data, ...r.data}\n    jsreport.render({\n        template: {\n          name: 'sos'\n        },\n        data: req.data\n      });\n\n}"},"property":"content","logged":true,"previousOperationId":"2yev76htg14jla4","id":"2wnlxi7qpvyp4g6","stack":"TypeError: jsreport.render is not a function\n    at Object.beforeRender (sandbox.js:8:14)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async executionFn (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:67:11)\n    at async run (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:184:24)\n    at async WorkerReporter._runInSandbox (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:180:14)\n    at async executeScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:122:12)\n    at async Scripts._runScript (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n    at async Scripts.handleBeforeRender (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)\n    at async ListenerCollection.fire (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\listenerCollection.js:157:21)\n    at async beforeRender (C:\\Users\\Johan\\Desktop\\clases\\Proyecto\\Calendar-Event\\jsreportapp\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:25:5)","message":"Error when evaluating custom script /testing\njsreport.render is not a function\n\n(sandbox.js line 8:14)\n\n   6 |     const r = await axios.get('http://localhost:3000/events')    \n   7 |     req.data = { ...req.data, ...r.data}\n>  8 |     jsreport.render({\n     |              ^\n   9 |         template: {\n  10 |           name: 'sos'\n  11 |         },\n\n"}
